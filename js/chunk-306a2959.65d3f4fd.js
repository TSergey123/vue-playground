(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-306a2959"],{"62f1":function(t,e,o){},"94f6":function(t,e,o){"use strict";o.r(e);var r=o("7a23"),n=function(t){return Object(r["w"])("data-v-7c905d1a"),t=t(),Object(r["u"])(),t},s={class:"home"},c=Object(r["i"])("Лайк"),i=Object(r["i"])("Дизлайк"),a=n((function(){return Object(r["h"])("h1",null,"PostPageWithStore",-1)})),u={class:"home__buttons"},l=Object(r["i"])("Создать Пост"),d=Object(r["i"])("Создать"),b={ref:"observer",class:"observer"},p=n((function(){return Object(r["h"])("h3",{class:"observer__title"},"Загрузка страницы...",-1)})),f=[p];function h(t,e,o,n,p,h){var O=Object(r["B"])("my-button"),j=Object(r["B"])("my-input"),g=Object(r["B"])("my-select"),m=Object(r["B"])("post-form"),P=Object(r["B"])("my-dialog"),v=Object(r["B"])("post-list"),y=Object(r["B"])("my-loader"),w=Object(r["C"])("focus"),k=Object(r["C"])("intersection");return Object(r["t"])(),Object(r["g"])("div",s,[Object(r["h"])("h1",null,Object(r["E"])(t.$store.state.limit),1),Object(r["h"])("h1",null,Object(r["E"])(t.$store.state.isAuth?"Пользователь авторизован":"Необходимо Авторизоваться"),1),Object(r["h"])("h1",null,Object(r["E"])(t.$store.getters.doubleLikes),1),Object(r["h"])("div",null,[Object(r["j"])(O,{onClick:e[0]||(e[0]=function(e){return t.$store.commit("incrementLikes")})},{default:Object(r["J"])((function(){return[c]})),_:1}),Object(r["j"])(O,{onClick:e[1]||(e[1]=function(e){return t.$store.commit("decrementLikes")})},{default:Object(r["J"])((function(){return[i]})),_:1})]),a,Object(r["K"])(Object(r["j"])(j,{modelValue:t.searchQuery,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.searchQuery=e}),placeholder:"Поиск"},null,8,["modelValue"]),[[w]]),Object(r["h"])("div",u,[Object(r["j"])(g,{modelValue:t.selectedSort,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.selectedSort=e}),options:t.sortOptions},null,8,["modelValue","options"]),Object(r["j"])(O,{onClick:t.showDialog,style:{margin:"15px 0"}},{default:Object(r["J"])((function(){return[l]})),_:1},8,["onClick"])]),Object(r["j"])(O,{style:{margin:"15px 0"},onClick:t.showDialog},{default:Object(r["J"])((function(){return[d]})),_:1},8,["onClick"]),Object(r["j"])(P,{show:p.dialogVisible,"onUpdate:show":e[4]||(e[4]=function(t){return p.dialogVisible=t})},{default:Object(r["J"])((function(){return[Object(r["j"])(m,{onCreate:h.createPost},null,8,["onCreate"])]})),_:1},8,["show"]),t.isPostLoading?(Object(r["t"])(),Object(r["e"])(y,{key:1})):(Object(r["t"])(),Object(r["e"])(v,{key:0,posts:t.sortedAndSearchedPosts,onRemove:t.removePost},null,8,["posts","onRemove"])),Object(r["K"])((Object(r["t"])(),Object(r["g"])("div",b,f)),[[k,t.loadMorePosts],[r["H"],this.page<this.totalPages]])])}o("b64b"),o("a4d3"),o("4de4"),o("d3b7"),o("e439"),o("159b"),o("dbb4");function O(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function j(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function g(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?j(Object(o),!0).forEach((function(e){O(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var m=o("5502"),P=o("9585"),v=o("1f6c"),y=o("3e89"),w=o("0026"),k=o("b866"),S=o("1703"),V=o("37b4"),_=o("1b41"),D={name:"PostPageWithStore",mixins:[P["a"]],components:{PostList:v["a"],PostForm:y["a"],MyDialog:w["a"],MyButton:k["a"],MyLoader:S["a"],MySelect:V["a"],MyInput:_["a"]},data:function(){return{dialogVisible:!1}},methods:g(g(g({},Object(m["d"])({setPage:"post/setPage"})),Object(m["b"])({loadMorePosts:"post/loadMorePosts",fetchPosts:"post/fetchPosts"})),{},{createPost:function(t){this.posts.push(t),this.dialogVisible=!1}}),computed:g(g({},Object(m["e"])({posts:function(t){return t.post.posts},dialogVisible:function(t){return t.post.dialogVisible},isPostLoading:function(t){return t.post.isPostLoading},selectedSort:function(t){return t.post.selectedSort},searchQuery:function(t){return t.post.searchQuery},page:function(t){return t.post.page},limit:function(t){return t.post.limit},totalPages:function(t){return t.post.totalPages},sortOptions:function(t){return t.post.sortOptions}})),Object(m["c"])({sortedPosts:"post/sortedPosts",sortedAndSearchedPosts:"post/sortedAndSearchedPosts"}))},L=(o("99e1"),o("6b0d")),C=o.n(L);const x=C()(D,[["render",h],["__scopeId","data-v-7c905d1a"]]);e["default"]=x},9585:function(t,e,o){"use strict";var r=o("2909"),n=o("1da1"),s=(o("96cf"),o("4de4"),o("d3b7"),o("99af"),o("4e82"),o("caad"),o("2532"),o("bc3a")),c=o.n(s);e["a"]={data:function(){return{posts:[],dialogVisible:!1,isPostLoading:!1,selectedSort:"",searchQuery:"",page:1,limit:10,totalPages:0,sortOptions:[{value:"title",name:"По названию"},{value:"body",name:"По содержанию"}]}},methods:{createPost:function(t){this.posts.push(t),this.dialogVisible=!1},removePost:function(t){this.posts=this.posts.filter((function(e){return e.id!==t.id}))},showDialog:function(){this.dialogVisible=!0},fetchPosts:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:t.page,_limit:t.limit}});case 3:o=e.sent,t.posts=o.data,t.totalPages=Math.ceil(o.headers["x-total-count"]/t.limit),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),alert("Error"),t.isPostLoading=!0;case 12:return e.prev=12,t.isPostsLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})))()},loadMorePosts:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.page+=1,e.next=4,c.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_page:t.page,_limit:t.limit}});case 4:o=e.sent,t.totalPages=Math.ceil(o.headers["x-total-count"]/t.limit),t.posts=[].concat(Object(r["a"])(t.posts),Object(r["a"])(o.data)),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),alert("Error"),t.isPostLoading=!0;case 13:return e.prev=13,t.isPostsLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})))()}},mounted:function(){this.fetchPosts()},computed:{sortedPosts:function(){var t=this;return Object(r["a"])(this.posts).sort((function(e,o){var r;return null===(r=e[t.selectedSort])||void 0===r?void 0:r.localeCompare(o[t.selectedSort])}))},sortedDate:function(){return Object(r["a"])(this.sortedPosts).sort((function(t,e){return new Date(t.date)-new Date(e.date)}))},sortedAndSearchedPosts:function(){var t=this;return this.sortedDate.filter((function(e){return e.title.toLowerCase().includes(t.searchQuery)}))}},watch:{}}},"99e1":function(t,e,o){"use strict";o("62f1")},b64b:function(t,e,o){var r=o("23e7"),n=o("7b0b"),s=o("df75"),c=o("d039"),i=c((function(){s(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(t){return s(n(t))}})},dbb4:function(t,e,o){var r=o("23e7"),n=o("83ab"),s=o("56ef"),c=o("fc6a"),i=o("06cf"),a=o("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,o,r=c(t),n=i.f,u=s(r),l={},d=0;while(u.length>d)o=n(r,e=u[d++]),void 0!==o&&a(l,e,o);return l}})},e439:function(t,e,o){var r=o("23e7"),n=o("d039"),s=o("fc6a"),c=o("06cf").f,i=o("83ab"),a=n((function(){c(1)})),u=!i||a;r({target:"Object",stat:!0,forced:u,sham:!i},{getOwnPropertyDescriptor:function(t,e){return c(s(t),e)}})}}]);
//# sourceMappingURL=chunk-306a2959.65d3f4fd.js.map